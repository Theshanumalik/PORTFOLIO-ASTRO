---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = {
  project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
---

<div>
  <div
    class="w-full aspect-video rounded-lg relative group/card overflow-hidden cursor-pointer"
  >
    <div class="w-full h-full">
      <Image
        src={project.data.image}
        alt={project.data.title}
        class="w-full h-full object-cover"
      />
    </div>
    <div
      class="transition-all group-hover/card:top-0 group-hover/card:opacity-100 absolute w-full h-full top-full bg-slate-950/65 p-4 text-white space-y-1 backdrop-blur-md grid place-items-center opacity-0 duration-500"
    >
      <div class="flex gap-4">
        {
          project.data.links.website && (
            <a class="text-3xl" href={project.data.links.website}>
              <Icon name="mdi:web" title="Live Demo" />
            </a>
          )
        }
        {
          project.data.links.github && (
            <a class="text-3xl" href={project.data.links.github}>
              <Icon name="mdi:github" title="Source Code" />
            </a>
          )
        }
        {
          project.data.links.article && (
            <a class="text-3xl" href={project.data.links.article}>
              <Icon name="mdi:book-open" title="Blog post" />
            </a>
          )
        }
        {
          project.data.links.demo && (
            <a class="text-3xl" href={project.data.links.demo}>
              <Icon name="mdi:youtube" title="Video Demo" />
            </a>
          )
        }
      </div>
    </div>
  </div>
  <div class="px-2">
    <h3 class="text-2xl font-bold mt-4">{project.data.title}</h3>
    <p class="mt-2 line-clamp-3">{project.data.description}</p>
    {
      project.data.technologies && (
        <div class="flex flex-wrap gap-2 mt-2">
          {project.data.technologies.map((tech) => (
            <span class="px-2 py-1 border border-yellow-400 text-yellow-400 rounded-md">
              {tech}
            </span>
          ))}
        </div>
      )
    }
    <a
      href={project.data.links.website || project.data.links.github}
      class="bg-yellow-400 my-4 inline-block py-2 px-5 rounded-full hover:bg-yellow-500 text-black transition-colors duration-300 ease-in-out"
    >
      Read more
    </a>
  </div>
</div>
